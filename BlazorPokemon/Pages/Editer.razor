@page "/edit/{Id:int}"

<h3>@Localizer["Edit"]</h3>

<EditForm Model="@pokemonModel" OnValidSubmit="@HandleValidSubmit">
    <DataAnnotationsValidator />
    <ValidationSummary />

    <p>
        <label for="display-name">
            @Localizer["DisplayName"]
            <InputText id="display-name" @bind-Value="pokemonModel.DisplayName" />
        </label>
    </p>
    <p>
        <label for="name">
            @Localizer["Name"]
            <InputText id="name" @bind-Value="pokemonModel.Name" />
        </label>
    </p>

     <p>
        <label for="max-health">
            @Localizer["MaxHealthPoints"]
            <InputNumber id="max-health" @bind-Value="pokemonModel.HealthPoints" />
        </label>
    </p>
    <p>
        <label for="PointsAttack">
            @Localizer["PointsAttack"]
            <InputNumber id="PointsAttack" @bind-Value="pokemonModel.PointsAttack" />
        </label>
    </p>
    <p>
        <label for="PointsDefense">
            @Localizer["PointsDefense"]
            <InputNumber id="max-health" @bind-Value="pokemonModel.PointsDefense" />
        </label>
    </p>
    <p>
        @Localizer["ElementType"]
        <div>
            @foreach (var eType in ElementType)
            {
                <label>
                    <input type="checkbox" @onchange="@(e => OnElementTypeChange(eType, e.Value))" />@eType
                </label>
            }
        </div>
    </p>

    <p>
    <label>
        @Localizer["CurrentImage"]
        <img src="data:image/png;base64, @(pokemonModel.ImageBase64)" class="img-thumbnail" title="@pokemonModel.DisplayName" alt="@pokemonModel.DisplayName" style="min-width: 50px; max-width: 150px"/>
    </label>
    </p>
    <p>
        <label>
            @Localizer["PokemonImage"]
            <InputFile OnChange="@LoadImage" accept=".png" />
        </label>
    </p>
    <p>
        <label>
            @Localizer["Condition"]
            <InputCheckbox @bind-Value="pokemonModel.AcceptCondition" />
        </label>
    </p>

    <button type="submit">@Localizer["Submit"]</button>
</EditForm>